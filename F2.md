# ğŸ§© **F2 â€“ Self-Service RAG & UX Flow (Functional Architecture)**

*Covers VS-3 (Self-Service RAG Builder & UX) + VS-7 (AI Literacy & Feedback Loop).*

Purpose â†’ show how a **user or scientist builds, tests, and runs a retrieval-augmented generation (RAG)** workflow on AskRegn-AI â€” and how that usage loops back into literacy, governance, and improvement.

---

## ğŸŸ¦ **Canvas Specification**

* **Orientation:** Landscape 16 Ã— 9
* **Flow direction:** Left â†’ Right (primary builder â†’ deployment â†’ feedback)
* **Feedback loop:** Right â†’ Left for learning & policy update
* **Color cues:** Blue = user/data flowâ€ƒOrange = governance feedbackâ€ƒGrey = data storesâ€ƒGreen = reusable models / tools

---

## ğŸ”¹ **Functional Zones (draw them left â†’ right like a storyboard)**

---

### **1ï¸âƒ£ Builder Workspace (Entry Zone â€“ User Plane)**

*(Left edge of slide)*

**Boxes (top â†’ bottom stack):**

1. **AskRegn-AI Builder UI**

   * â€œNo/Low-Code RAG Builder (Wizard + Advanced Mode)â€
   * *Users define source, prompt, embedding model, evaluation rules.*

2. **Auth & Project Context Service**

   * â€œOKTA SSO â†’ Workspace Context (Org/Team Tagging)â€

3. **Config Template Repo**

   * â€œPre-built templates (GitHub / Registry) for common tasks.â€

â¡ **Output arrow â†’** Configuration JSON to RAG Pipeline Builder

> **Deliverables:** VS-3 D1 (Self-Service UI), VS-3 D2 (Template Library)

---

### **2ï¸âƒ£ Data Ingestion & Preparation Corridor**

*(Mid-left section, wider horizontal band)*

**Flow:** Data Sources (bottom) â†’ ETL â†’ Chunking â†’ Embeddings â†’ Vector DB

**Sub-boxes (left â†’ right):**

* **Source Connectors** (SharePoint, Confluence, Veeva, PubMed APIs)
* **ETL Pipelines** (Dataiku / Databricks) â†’ cleaning, metadata tagging
* **Chunker & Embedder Engine** (LlamaIndex + OpenAI Embeddings)
* **Vector Store** (Milvus / Pinecone adapter)

Small upward arrow from Vector Store â†’ **Lineage Graph (Neo4j)**
â†’ annotation: â€œLineage captured for audit & reuse.â€

> **Deliverables:** VS-3 D3 (Data Connector Framework), VS-6 D1 (Lineage Capture)

---

### **3ï¸âƒ£ RAG Pipeline Execution (Engine Core)**

*(Center of slide â€“ large rounded rectangle)*

Inside, show **4 modules** arranged left â†’ right with arrows:

1. **Retriever Service** â†’ â€œQueries Milvus vectors using semantic search.â€
2. **Context Assembler** â†’ â€œCombines top-k snippets + metadata into prompt.â€
3. **LLM Invoker** â†’ â€œCalls Gateway (LLM Routing + Policy Control).â€
4. **Response Composer** â†’ â€œGenerates answer / summary / draft.â€

Below these, a horizontal sub-bar:
**â€œEvaluator & Metrics Collector â€“ BLEU, ROUGE, Accuracy, Costâ€** â†’ feeds into FinOps + AI Literacy.

> **Deliverables:** VS-3 D4 (Execution Engine), VS-2 D3 (Evaluator reuse)

---

### **4ï¸âƒ£ Publishing & User Interaction Layer**

*(Mid-right section)*

**Boxes stacked vertically:**

* **Deployed Companion Bot** â€“ â€œHosted RAG App (Next.js Widget + FastAPI Backend).â€
* **Feedback Panel / Rating Widget** â€“ â€œUser thumbs-up/down + comment â†’ stored as training signal.â€
* **Dashboard & Reports** â€“ â€œUsage, cost, accuracy analytics â†’ PowerBI / Grafana.â€

Upward arrow to **AI Literacy Portal** (top right corner):
â€œTutorials auto-updated from user cases.â€

> **Deliverables:** VS-7 D1 (Feedback Portal), VS-3 D5 (Dashboard Analytics)

---

### **5ï¸âƒ£ Governance & Continuous Learning Loop**

*(Orange feedback arc running from right to left along bottom)*

* **Governance Analyzer** â†’ reads user feedback + eval scores.
* **Model Risk Profiler** â†’ rates RAG runs on accuracy vs policy.
* **Policy Update Push** â†’ updates Gateway rules and Template Repo.

Annotation on arc: *â€œRFP Â§5.4.6 â€“ Continuous improvement and AI Literacy feedback.â€*

> **Deliverables:** VS-7 D2 (Responsible AI Training Cycle), VS-1 Link (Policy Update Integration)

---

## ğŸ”„ **Numbered Functional Steps (to label arrows)**

1ï¸âƒ£ User launches Builder â†’ creates project (template selected).
2ï¸âƒ£ Sources connected â†’ data ingested and chunked.
3ï¸âƒ£ Embeddings generated â†’ stored in Milvus + lineage logged.
4ï¸âƒ£ User runs RAG pipeline â†’ retriever â†’ LLM â†’ response.
5ï¸âƒ£ Evaluator scores result â†’ metrics to dashboard.
6ï¸âƒ£ User provides feedback â†’ AI Literacy Portal updates.
7ï¸âƒ£ Governance Analyzer reviews results â†’ policy/template update to Gateway & Repo.

---

## ğŸ§  **Footer Text**

> *Functional view covering VS-3 (Self-Service RAG Builder) and VS-7 (AI Literacy & Feedback): demonstrates how enterprise users ingest data, build RAG apps, evaluate outputs, and feed governance and training loops per RFP Â§5.4.3 and Â§5.4.6.*

---

### **Visual Design Tips**

* Make the **RAG Pipeline Execution** box dominant (center).
* Use bottom stream for data ingestion and top loop for literacy feedback.
* Color legend (bottom-right):

  * Blue = user/data flowâ€ƒ
  * Grey = data storesâ€ƒ
  * Green = reusable models / toolsâ€ƒ
  * Orange = governance feedback.
* Include mini-list â€œComponents Reused from Component Architecture:â€ UI Builder, ETL Pipelines, Chunker, Embedder, Milvus, Gateway API, Evaluator, Dashboard, Governance Analyzer.

---

### âœ… **Outcome**

A single dynamic slide that tells the **end-to-end story of the RAG workflow** â€” from user creation to model feedback â€” while satisfying **all deliverables** of **VS-3 and VS-7** and tying back to components defined in your Component Architecture.
